<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"> <!-- Especifica la codificación de caracteres para el documento HTML -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Asegura que el sitio sea responsive en dispositivos móviles -->
    <title>Conversor de texto a voz y voz a texto</title> <!-- Título que aparecerá en la pestaña del navegador -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css" /> <!-- Enlaza un framework CSS llamado Pico para estilos rápidos y minimalistas -->
</head>
<body>
    <main>
        <h1>Conversor de texto a voz y voz a texto</h1> <!-- Título principal de la página -->
        <h2>Convertir texto a voz</h2> <!-- Subtítulo para la sección de texto a voz -->
        <p>Escriba el texto a convertir a voz</p> <!-- Instrucción para el usuario -->
        <input type="text" id="textoAVoz"> <!-- Campo de entrada de texto para que el usuario escriba lo que desea convertir a voz -->
        <button onclick="textoAVoz()">Convertir</button> <!-- Botón que al ser presionado ejecuta la función `textoAVoz` para convertir el texto a voz -->

        <h2>Convertir voz a texto</h2> <!-- Subtítulo para la sección de voz a texto -->
        <button onclick="vozATexto()">Grabar</button> <!-- Botón que inicia la grabación de voz para convertirla a texto -->
        <p id="vozATexto">Texto transcrito</p> <!-- Parágrafo donde se mostrará el texto resultante de la conversión de voz a texto -->
    </main>
    <script>
        function textoAVoz() {
            let texto = document.getElementById("textoAVoz").value; // Obtiene el valor del campo de entrada de texto
            let utterance = new SpeechSynthesisUtterance(texto); // Crea un nuevo objeto de síntesis de voz con el texto obtenido
            speechSynthesis.speak(utterance); // Le dice al navegador que hable el texto obtenido
        }

        function vozATexto() {
            const recognition = new webkitSpeechRecognition(); // Crea un nuevo objeto para el reconocimiento de voz
            recognition.start(); // Inicia el reconocimiento de voz
            recognition.onresult = (event) => { // Define una función que se ejecuta cuando se obtiene un resultado del reconocimiento de voz
                document.getElementById("vozATexto").innerText = event.results[0][0].transcript; // Actualiza el texto del parágrafo con el resultado del reconocimiento de voz
            }
        }
    </script>
    <style>
        main {
            margin: auto; /* Centra el contenido principal en la página */
            width: 800px; /* Establece un ancho fijo para el contenido principal */
        }
    </style>
</body>
</html>
